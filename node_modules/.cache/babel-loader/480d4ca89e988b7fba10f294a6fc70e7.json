{"ast":null,"code":"import _slicedToArray from\"/home/leland/MLPractice/snp-lamp-design-client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Button from'@material-ui/core/Button';import{useState}from'react';import{useEffect}from'react';import NodeFetch from'node-fetch';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Buttons=function Buttons(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),running=_useState2[0],setRunning=_useState2[1];var getProgress=function getProgress(){NodeFetch('http://127.0.0.1:5000/get_progress',{headers:{'Content-Type':'application/json'},method:'POST',body:''}).then(function(response){return response.json();}).then(function(json){setRunning(json.running);});};var getOutput=function getOutput(){NodeFetch('http://127.0.0.1:5000/get_output',{headers:{'Content-Type':'application/json'},method:'POST',body:''}).then(function(response){return response.json();}).then(function(json){if(running&&json.finished){setRunning(false);}});};var sendStart=function sendStart(){NodeFetch('http://127.0.0.1:5000/start_optimizer',{headers:{'Content-Type':'application/json'},method:'POST'}).then(function(response){return response.text();});};var sendStop=function sendStop(){NodeFetch('http://127.0.0.1:5000/stop_optimizer',{headers:{'Content-Type':'application/json'},method:'POST'}).then(function(response){return response.text();});};var handleStart=function handleStart(){setRunning(true);sendStart();};var handleStop=function handleStop(){setRunning(false);sendStop();};useEffect(function(){var interval=setInterval(function(){getProgress();getOutput();},1000);return function(){clearInterval(interval);};},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"startstopbuttons\",children:[/*#__PURE__*/_jsx(Button,{className:\"startbutton\",variant:\"contained\",disabled:running,color:\"primary\",onClick:handleStart,children:\"Optimize\"}),/*#__PURE__*/_jsx(Button,{className:\"stopbutton\",variant:\"contained\",disabled:!running,color:\"default\",onClick:handleStop,children:\"Stop\"})]});};export default Buttons;","map":{"version":3,"sources":["/home/leland/MLPractice/snp-lamp-design-client/src/Buttons.js"],"names":["Button","useState","useEffect","NodeFetch","Buttons","running","setRunning","getProgress","headers","method","body","then","response","json","getOutput","finished","sendStart","text","sendStop","handleStart","handleStop","interval","setInterval","clearInterval"],"mappings":"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","sourcesContent":["import Button from '@material-ui/core/Button';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport NodeFetch from 'node-fetch';\n\n\nconst Buttons = () => {\n\n    const [running, setRunning] = useState(false);\n\n    const getProgress = () => {\n        NodeFetch('http://127.0.0.1:5000/get_progress',\n            {\n                headers: { 'Content-Type': 'application/json' },\n                method: 'POST',\n                body: ''\n            }).then(function (response) {\n                return response.json();\n            }).then(function (json) {\n                setRunning(json.running);\n            })\n    }\n\n    const getOutput = () => {\n        NodeFetch('http://127.0.0.1:5000/get_output',\n            {\n                headers: { 'Content-Type': 'application/json' },\n                method: 'POST',\n                body: ''\n            }).then(function (response) {\n                return response.json();\n            }).then(function (json) {\n                if(running && json.finished) {\n                    setRunning(false);\n                }\n            })\n    }\n\n    const sendStart = () => {\n        NodeFetch('http://127.0.0.1:5000/start_optimizer', \n\t\t{headers: {'Content-Type': 'application/json'},\n\t\tmethod: 'POST'\n        }).then(function (response) {\n            return response.text();\n        })\n    }\n\n    const sendStop = () => {\n        NodeFetch('http://127.0.0.1:5000/stop_optimizer', \n\t\t{headers: {'Content-Type': 'application/json'},\n\t\tmethod: 'POST'\n        }).then(function (response) {\n            return response.text();\n        })\n    }\n\n    const handleStart = () => {\n        setRunning(true);\n        sendStart();\n    }\n\n    const handleStop = () => {\n        setRunning(false);\n        sendStop();\n    }\n\n    useEffect(() => {\n        const interval = setInterval(() => {\n            getProgress();\n            getOutput();\n        }, 1000);\n        return () => {\n          clearInterval(interval);\n        };\n    }, []);\n\n    return (\n        <div className=\"startstopbuttons\">\n            <Button className='startbutton' variant=\"contained\" disabled={running} color=\"primary\" onClick={handleStart}>\n                Optimize\n            </Button>\n            <Button className='stopbutton' variant=\"contained\" disabled={!running} color=\"default\" onClick={handleStop}>\n                Stop\n            </Button>\n        </div>\n    );\n};\n\nexport default Buttons;"]},"metadata":{},"sourceType":"module"}