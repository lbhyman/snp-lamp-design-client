{"ast":null,"code":"var _jsxFileName = \"/home/leland/MLPractice/snp-lamp-design-client/src/Output.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$(),\n    _s5 = $RefreshSig$();\n\nimport { useState, useEffect, useReducer } from 'react';\nimport { LoaderDots } from '@thumbtack/thumbprint-react';\nimport { useBetween } from 'use-between';\nimport Slide from 'react-reveal/Fade';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ShareableRunningState = () => {\n  _s();\n\n  const [running, setRunning] = useState(false);\n  return {\n    running,\n    setRunning\n  };\n};\n\n_s(ShareableRunningState, \"GqSjlWMyRcFSNk6JAdDkMp9357M=\");\n\n_c = ShareableRunningState;\nexport const ShareableFinishedState = () => {\n  _s2();\n\n  const [finished, setFinished] = useState(false);\n  return {\n    finished,\n    setFinished\n  };\n};\n\n_s2(ShareableFinishedState, \"mZBoEqN32gr4012eGv/dCEBa7uo=\");\n\n_c2 = ShareableFinishedState;\nexport const ShareableOutputState = () => {\n  _s3();\n\n  const [output, setOutput] = useState(null);\n  return {\n    output,\n    setOutput\n  };\n};\n\n_s3(ShareableOutputState, \"ppWByPgNJ+PeYTAdgwjKOSbvJUE=\");\n\n_c3 = ShareableOutputState;\nexport const ShareableWarningState = () => {\n  _s4();\n\n  const [warning, setWarning] = useState('');\n  return {\n    warning,\n    setWarning\n  };\n};\n\n_s4(ShareableWarningState, \"QgWVaa52qMHZiqsy7aSwVP0Ecac=\");\n\n_c4 = ShareableWarningState;\n\nconst centerPadOutput = (out, curr_seq, curr_label) => {\n  var curr_output = [out['probeF'], out['probeQ'], out['sink'], out['sinkC']];\n  var longest = Math.max(...curr_output.map(el => el.length));\n  var padLength = 70 - (9 + longest);\n  var padLeft = Math.round(padLength / 2);\n  var padRight = 70 - (curr_seq.length + 9 + padLeft);\n  var result = curr_label.concat(curr_seq);\n\n  for (let i = 0; i < padLeft; i++) {\n    result = ' '.concat(result);\n  }\n\n  for (let i = 0; i < padRight; i++) {\n    result = result.concat(' ');\n  }\n\n  return result;\n};\n\nconst Output = () => {\n  _s5();\n\n  const {\n    running\n  } = useBetween(ShareableRunningState);\n  const {\n    finished\n  } = useBetween(ShareableFinishedState);\n  const {\n    output\n  } = useBetween(ShareableOutputState);\n  const {\n    warning\n  } = useBetween(ShareableWarningState);\n  const [, forceUpdate] = useReducer(x => x + 1, 0);\n  useEffect(() => {\n    forceUpdate();\n  }, [running, finished, output, warning]);\n\n  if (warning !== '') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"output\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"warningheader\",\n        children: \"unable to optimize:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"warningtext\",\n        children: warning\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this);\n  } else if (running) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"output\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"proglabel\",\n        children: \"optimizing\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(LoaderDots, {\n        size: \"medium\",\n        className: \"progindicator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this);\n  } else if (finished) {\n    console.log(output);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"output\",\n      children: /*#__PURE__*/_jsxDEV(Slide, {\n        left: true,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"seq_output\",\n          style: {\n            dislay: 'flex',\n            alignItems: 'center',\n            whiteSpace: 'pre-wrap',\n            color: '#e0e0e0'\n          },\n          children: `\n\n${centerPadOutput(output, output['probeF'], 'ProbeF:  ')}\n\n${centerPadOutput(output, output['probeQ'], 'ProbeQ:  ')}\n\n${centerPadOutput(output, output['sink'], 'Sink:    ')}\n\n${centerPadOutput(output, output['sinkC'], 'Sink*:   ')}\n                        `\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"emptyoutput\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this);\n  }\n};\n\n_s5(Output, \"6JjQQMDxO6g4R24572l7oLxlE8c=\", false, function () {\n  return [useBetween, useBetween, useBetween, useBetween];\n});\n\n_c5 = Output;\nexport default Output;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"ShareableRunningState\");\n$RefreshReg$(_c2, \"ShareableFinishedState\");\n$RefreshReg$(_c3, \"ShareableOutputState\");\n$RefreshReg$(_c4, \"ShareableWarningState\");\n$RefreshReg$(_c5, \"Output\");","map":{"version":3,"sources":["/home/leland/MLPractice/snp-lamp-design-client/src/Output.js"],"names":["useState","useEffect","useReducer","LoaderDots","useBetween","Slide","ShareableRunningState","running","setRunning","ShareableFinishedState","finished","setFinished","ShareableOutputState","output","setOutput","ShareableWarningState","warning","setWarning","centerPadOutput","out","curr_seq","curr_label","curr_output","longest","Math","max","map","el","length","padLength","padLeft","round","padRight","result","concat","i","Output","forceUpdate","x","console","log","dislay","alignItems","whiteSpace","color"],"mappings":"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","sourcesContent":["import { useState, useEffect, useReducer } from 'react';\nimport { LoaderDots } from '@thumbtack/thumbprint-react';\nimport { useBetween } from 'use-between';\nimport Slide from 'react-reveal/Fade';\n\nexport const ShareableRunningState = () => {\n    const [running, setRunning] = useState(false);\n    return {\n        running,\n        setRunning\n    };\n};\n\nexport const ShareableFinishedState = () => {\n    const [finished, setFinished] = useState(false);\n    return {\n        finished,\n        setFinished\n    };\n};\n\nexport const ShareableOutputState = () => {\n    const [output, setOutput] = useState(null);\n    return {\n        output,\n        setOutput\n    };    \n};\n\nexport const ShareableWarningState = () => {\n    const [warning, setWarning] = useState('');\n    return {\n        warning,\n        setWarning\n    };    \n};\n\nconst centerPadOutput = (out, curr_seq, curr_label) => {\n    var curr_output = [out['probeF'], out['probeQ'], out['sink'], out['sinkC']];\n    var longest = Math.max(...(curr_output.map(el => el.length)));\n    var padLength = 70  - (9 + longest);\n    var padLeft = Math.round(padLength / 2);\n    var padRight = 70 - (curr_seq.length + 9 + padLeft);\n    var result = curr_label.concat(curr_seq);\n    for (let i=0; i<padLeft; i++) {\n        result = ' '.concat(result);\n    }\n    for (let i=0; i<padRight; i++) {\n        result = result.concat(' ');\n    }\n    return result;\n}\n\nconst Output = () => {\n    const { running } = useBetween(ShareableRunningState)\n    const { finished } = useBetween(ShareableFinishedState)\n    const { output } = useBetween(ShareableOutputState)\n    const { warning } = useBetween(ShareableWarningState)\n    const [, forceUpdate] = useReducer(x => x + 1, 0);\n\n    useEffect(() => {\n        forceUpdate();\n    }, [running, finished, output, warning]);\n\n    if (warning !== '') {\n        return (\n            <div className=\"output\">\n                <h3 className=\"warningheader\">unable to optimize:</h3>\n                <p className=\"warningtext\">{ warning }</p>\n            </div>\n        )\n    }\n    else if (running) {\n        return (\n            <div className=\"output\">\n                <h3 className=\"proglabel\">optimizing</h3>\n                <LoaderDots size=\"medium\" className=\"progindicator\" />\n            </div>\n        );\n    }\n    else if (finished) {\n        console.log(output);\n        return (\n            <div className=\"output\">\n                <Slide left>\n                    <div className=\"seq_output\" style={{ dislay: 'flex', alignItems: 'center', whiteSpace: 'pre-wrap', color: '#e0e0e0' }}>\n                        {`\n\n${centerPadOutput(output, output['probeF'], 'ProbeF:  ')}\n\n${centerPadOutput(output, output['probeQ'], 'ProbeQ:  ')}\n\n${centerPadOutput(output, output['sink'],   'Sink:    ')}\n\n${centerPadOutput(output, output['sinkC'],  'Sink*:   ')}\n                        `}\n                    </div>\n                </Slide>\n            </div>\n        );\n    }\n    else {\n        return (\n            <div className=\"emptyoutput\">\n            </div>\n        );\n    }\n\n};\n\nexport default Output;"]},"metadata":{},"sourceType":"module"}