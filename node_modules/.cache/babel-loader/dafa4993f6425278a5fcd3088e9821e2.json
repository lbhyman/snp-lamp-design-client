{"ast":null,"code":"var _jsxFileName = \"/home/leland/MLPractice/snp-lamp-design/react-app/src/Buttons.js\",\n    _s = $RefreshSig$();\n\nimport Button from '@material-ui/core/Button';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport NodeFetch from 'node-fetch';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Buttons = () => {\n  _s();\n\n  const [running, setRunning] = useState(false);\n\n  const getProgress = () => {\n    NodeFetch('http://127.0.0.1:5000/get_progress', {\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      method: 'POST',\n      body: ''\n    }).then(function (response) {\n      return response.json();\n    }).then(function (json) {\n      setRunning(json.running);\n    });\n  };\n\n  const getOutput = () => {\n    NodeFetch('http://127.0.0.1:5000/get_output', {\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      method: 'POST',\n      body: ''\n    }).then(function (response) {\n      return response.json();\n    }).then(function (json) {\n      if (running && json.finished) {\n        setRunning(false);\n      }\n    });\n  };\n\n  const sendStart = () => {\n    NodeFetch('http://127.0.0.1:5000/start_optimizer', {\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      method: 'POST'\n    }).then(function (response) {\n      return response.text();\n    });\n  };\n\n  const sendStop = () => {\n    NodeFetch('http://127.0.0.1:5000/stop_optimizer', {\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      method: 'POST'\n    }).then(function (response) {\n      return response.text();\n    });\n  };\n\n  const handleStart = () => {\n    setRunning(true);\n    sendStart();\n  };\n\n  const handleStop = () => {\n    setRunning(false);\n    sendStop();\n  };\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      getProgress();\n      getOutput();\n    }, 1000);\n    return () => {\n      clearInterval(interval);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"startstopbuttons\",\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      className: \"startbutton\",\n      variant: \"contained\",\n      disabled: running,\n      color: \"primary\",\n      onClick: handleStart,\n      children: \"Optimize\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      className: \"stopbutton\",\n      variant: \"contained\",\n      disabled: !running,\n      color: \"default\",\n      onClick: handleStop,\n      children: \"Stop\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Buttons, \"R/bLhwZteleqmA3L6JcoOMlBC0Y=\");\n\n_c = Buttons;\nexport default Buttons;\n\nvar _c;\n\n$RefreshReg$(_c, \"Buttons\");","map":{"version":3,"sources":["/home/leland/MLPractice/snp-lamp-design/react-app/src/Buttons.js"],"names":["Button","useState","useEffect","NodeFetch","Buttons","running","setRunning","getProgress","headers","method","body","then","response","json","getOutput","finished","sendStart","text","sendStop","handleStart","handleStop","interval","setInterval","clearInterval"],"mappings":"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","sourcesContent":["import Button from '@material-ui/core/Button';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport NodeFetch from 'node-fetch';\n\n\nconst Buttons = () => {\n\n    const [running, setRunning] = useState(false);\n\n    const getProgress = () => {\n        NodeFetch('http://127.0.0.1:5000/get_progress',\n            {\n                headers: { 'Content-Type': 'application/json' },\n                method: 'POST',\n                body: ''\n            }).then(function (response) {\n                return response.json();\n            }).then(function (json) {\n                setRunning(json.running);\n            })\n    }\n\n    const getOutput = () => {\n        NodeFetch('http://127.0.0.1:5000/get_output',\n            {\n                headers: { 'Content-Type': 'application/json' },\n                method: 'POST',\n                body: ''\n            }).then(function (response) {\n                return response.json();\n            }).then(function (json) {\n                if(running && json.finished) {\n                    setRunning(false);\n                }\n            })\n    }\n\n    const sendStart = () => {\n        NodeFetch('http://127.0.0.1:5000/start_optimizer', \n\t\t{headers: {'Content-Type': 'application/json'},\n\t\tmethod: 'POST'\n        }).then(function (response) {\n            return response.text();\n        })\n    }\n\n    const sendStop = () => {\n        NodeFetch('http://127.0.0.1:5000/stop_optimizer', \n\t\t{headers: {'Content-Type': 'application/json'},\n\t\tmethod: 'POST'\n        }).then(function (response) {\n            return response.text();\n        })\n    }\n\n    const handleStart = () => {\n        setRunning(true);\n        sendStart();\n    }\n\n    const handleStop = () => {\n        setRunning(false);\n        sendStop();\n    }\n\n    useEffect(() => {\n        const interval = setInterval(() => {\n            getProgress();\n            getOutput();\n        }, 1000);\n        return () => {\n          clearInterval(interval);\n        };\n    }, []);\n\n    return (\n        <div className=\"startstopbuttons\">\n            <Button className='startbutton' variant=\"contained\" disabled={running} color=\"primary\" onClick={handleStart}>\n                Optimize\n            </Button>\n            <Button className='stopbutton' variant=\"contained\" disabled={!running} color=\"default\" onClick={handleStop}>\n                Stop\n            </Button>\n        </div>\n    );\n};\n\nexport default Buttons;"]},"metadata":{},"sourceType":"module"}